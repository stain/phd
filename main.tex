% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[british,a4paper]{book}
\usepackage[DIV=10,BCOR=2mm,headinclude=false,footinclude=false]{typearea}

\usepackage{amsmath,amssymb}
%\usepackage{lmodern}

\usepackage{unicode-math}
%\usepackage{fontspec}

\defaultfontfeatures{Scale=MatchLowercase}
\defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\RequirePackage[palatino]{quotchap}
\setmainfont[Ligatures=TeX]{TeX Gyre Pagella} 
\def\@@ptsize{11pt}
\linespread{1.2}
%\setlength{\parskip}{2ex plus 0.5ex minus 0.2ex}
%\setlength{\parindent}{0pt}

% It's cool but has very wrong metrics
%\setmonofont{Bokfjesv3.2-Regular.otf}

%\renewcommand*{\chapterheadstartvskip}{\vspace*{-1.2\baselineskip}}
%\renewcommand*{\chapterheadendvskip}{\vspace{1.5\baselineskip}}
\definecolor{chaptergrey}{rgb}{0.8600, 0.0150, 0.4100}

% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}

% FIXME: Change to black before printing
\definecolor{LinkColor}{rgb}{0.2150, 0.1025, 0.1025}
\definecolor{URLColor}{rgb}{0.0075, 0.2050, 0.4300}
\definecolor{CiteColor}{rgb}{0.2150, 0.0037, 0.1025}
\hypersetup{
  pdftitle={FAIR Research Objects and Computational Workflows – A Linked Data Approach}, %% FIXME
  pdfauthor={Stian Soiland-Reyes},
  pdflang={en-GB},
  pdfkeywords={RO-Crate},
  pdfkeywords={Reproducibility, FAIR, FAIR Digital Object, RO-Crate, workflow, linked data},
%  hidelinks,
  colorlinks,
  linkcolor=LinkColor,
  citecolor=CiteColor,
  urlcolor=URLColor,
  pdfcreator={LuaLaTeX}
}


\urlstyle{same} % disable monospaced font for URLs

\usepackage{color}

\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\setlength{\emergencystretch}{3em} % prevent overfull lines

\providecommand{\tightlist}{% Left-over from pandoc, we want long lists!
%  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}
}

\ifxetex
  % Load polyglossia as late as possible: uses bidi with RTL langages (e.g. Hebrew, Arabic)
  \usepackage{polyglossia}
  \setmainlanguage[variant=british]{english}
\else
  \usepackage[main=british]{babel}
% get rid of language-specific shorthands (see #6817):
\let\LanguageShortHands\languageshorthands
\def\languageshorthands#1{}
\fi
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyfoot[LO,RE]{\thepage}
%% NOTE: Rest of fancyhead enabled AFTER \frontmatter

\renewcommand{\chaptermark}[1]{%
\markboth{#1}{}}

% hyperlink but footnote with url
\newcommand{\footurl}[2]{\href{#1}{#2}\protect\footnote{\url{#1}}}


% for table resizing
\usepackage{booktabs}
\usepackage{multirow}
%\usepackage{tmultirow}

\usepackage{varioref}
% Rotating pages
\usepackage{pdflscape}

% for code
\usepackage{listing}
%% .. and figures
\usepackage{graphicx}
\usepackage[font=small,labelfont=bf]{caption}

\usepackage{metalogo}
\ifluatex
  \usepackage{xstring}
  \StrBehind{\luatexbanner}{\detokenize{This is}}[\lualatexbanner]
  \def\mybanner{\LuaLaTeX \lualatexbanner}
\else
  \ifxetex
    \def\mybanner{{\XeLaTeX} {\the\eTeXversion\eTeXrevision-\the\XeTeXversion\XeTeXrevision}}
  \else
    \def\mybanner{{\LaTeX}}
  \fi
\fi

% For roman numbers in lists etc
\usepackage{enumerate}

% Glossaries
\usepackage[toc]{glossaries}
\makeglossaries
\setacronymstyle{long-short-desc}
\include{00-glossary}


%% END packages etc.


%% Metadata

\title{FAIR Research Objects and Computational Workflows – A Linked Data Approach}
\author{Stian Soiland-Reyes}
\date{2024-02-16}


\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}

\begin{document}


\frontmatter
\maketitle
\include{01-frontpage}
\include{02-tocs}

\printglossaries
%\printglossary[type=\acronymtype]
%\printglossary



\mainmatter
\fancyhead[LO]{\leftmark}
\fancyhead[RE]{Chapter \thechapter}

\chapter{Introduction}
\label{chapter:introduction}
\include{10-intro}

\chapter{Background}
\label{chapter:background}
\include{20-background}

\chapter{FAIR Digital Objects and Linked Data}
\label{chapter:fdo}
\include{30-fdo}
\include{31-evaluating-fdo}
\include{32-updating-ld}

\chapter{RO-Crate}
\label{chapter:ro-crate}
\include{40-crates}
\include{41-ro-crate}
\include{42-lightweight-fdo}
\include{43-formalizing}

\chapter{Computational Workflows}
\label{chapter:workflows}
\include{50-workflows}
\include{51-canonical}
\include{52-specimen}
\include{53-incrementally-fdo}
\include{54-wrroc}


\chapter{Discussion and conclusions}
\label{chapter:conclusions}
\include{61-discussion}
\include{62-conclusions}

\appendix
\fancyhead[RE]{Appendix \thechapter}

\chapter{Acknowledgements}
\label{chapter:acknowledgements}
\include{a1-acknowledgements}

\chapter{Contributions}
\label{chapter:contributions}
\include{a2-contributions}

\backmatter
%\chapter{Bibliography}
\fancyhead[RE]{}
\phantomsection\addcontentsline{toc}{chapter}{Bibliography}
\include{b-references}



\chapter{Summary}
\include{b-summary}
\chapter{Sammenvatting}
\include{b-summary-nl}

\end{document}
